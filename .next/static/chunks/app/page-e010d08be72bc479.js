(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7805:function(e,t,s){Promise.resolve().then(s.bind(s,6769))},6769:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var r=s(7437),a=s(2265),l=s(1239),n=s(3247),i=s(6595),d=s(8166);function c(e){let{initialChips:t}=e,[s,c]=(0,a.useState)(""),[o,x]=(0,a.useState)("admin"),m=[...t.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.description&&e.description.includes(s)||e.brand&&e.brand.includes(s))].sort((e,t)=>"admin"===o?t.admin_rating-e.admin_rating:(t.user_votes||0)-(e.user_votes||0));return(0,r.jsxs)("div",{className:"min-h-screen text-gray-800 font-sans pb-10 bg-[#DAE0E6]",children:[(0,r.jsxs)("nav",{className:"sticky top-0 z-50 bg-white h-12 border-b border-gray-200 px-4 flex items-center justify-between shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>x("admin"),children:[(0,r.jsx)("div",{className:"bg-orange-500 rounded-full p-1",children:(0,r.jsx)(l.Z,{className:"text-white w-5 h-5"})}),(0,r.jsx)("span",{className:"font-bold text-lg hidden sm:block",children:"Zageh's Chips"})]}),(0,r.jsx)("div",{className:"flex-1 max-w-xl mx-4",children:(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)(n.Z,{className:"absolute left-3 top-2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"\uD83D\uDD0D 搜名字、品牌、口味...",value:s,onChange:e=>c(e.target.value),className:"w-full bg-gray-100 hover:bg-white border border-transparent hover:border-blue-500 rounded-full py-1.5 pl-10 pr-4 transition-all"})]})}),(0,r.jsx)("button",{onClick:()=>alert("登录系统正在施工中...请找Zageh催更！"),className:"px-4 py-1 font-bold text-white bg-blue-500 rounded-full hover:bg-blue-600 text-sm",children:"登录 / 注册"})]}),(0,r.jsxs)("div",{className:"max-w-[1024px] mx-auto pt-6 px-4",children:[(0,r.jsxs)("div",{className:"flex gap-4 mb-4 border-b border-gray-300 pb-2",children:[(0,r.jsxs)("button",{onClick:()=>x("admin"),className:"text-lg font-bold pb-2 border-b-2 transition-all flex items-center gap-2 ".concat("admin"===o?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"),children:["\uD83D\uDC38 青蛙推荐榜 ",(0,r.jsx)("span",{className:"text-xs bg-orange-100 px-2 py-0.5 rounded-full text-orange-800",children:"Admin"})]}),(0,r.jsxs)("button",{onClick:()=>x("public"),className:"text-lg font-bold pb-2 border-b-2 transition-all flex items-center gap-2 ".concat("public"===o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:["\uD83D\uDC65 大众口碑榜 ",(0,r.jsx)("span",{className:"text-xs bg-blue-100 px-2 py-0.5 rounded-full text-blue-800",children:"Top Rated"})]})]}),(0,r.jsxs)("div",{className:"space-y-3 max-w-[800px] mx-auto",children:[m.map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded border border-gray-300 flex hover:border-gray-400 transition-all shadow-sm overflow-hidden group",children:[(0,r.jsxs)("div",{className:"w-16 bg-gray-50 p-2 flex flex-col items-center justify-center border-r border-gray-100 shrink-0",children:[(0,r.jsx)("div",{className:"text-xs font-bold text-gray-400 mb-1",children:"大众分"}),(0,r.jsxs)("div",{className:"mt-2 group/rating relative flex flex-col items-center",children:[(0,r.jsx)("button",{className:"text-gray-400 hover:text-yellow-500 transition-colors",children:(0,r.jsx)(i.Z,{size:20,fill:"currentColor",className:"text-gray-300 group-hover/rating:text-yellow-400"})}),(0,r.jsx)("span",{className:"text-[10px] text-gray-400",children:"点我也没用"})]})]}),(0,r.jsxs)("div",{className:"p-4 flex gap-5 w-full bg-white relative",children:[(0,r.jsxs)("div",{className:"absolute top-2 right-4 text-4xl font-black text-gray-100 -z-0",children:["#",t+1]}),(0,r.jsx)("div",{className:"relative z-10 shrink-0",children:e.image_url?(0,r.jsx)("img",{src:e.image_url,alt:e.name,className:"w-24 h-32 object-cover rounded shadow-sm border border-gray-200"}):(0,r.jsx)("div",{className:"w-24 h-32 bg-gray-200 rounded flex items-center justify-center text-xs text-gray-400",children:"无图"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 z-10",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-1 flex items-center gap-2",children:(0,r.jsxs)("span",{className:"font-bold text-gray-600 flex items-center gap-1",children:[(0,r.jsx)(d.Z,{size:12})," ",e.brand||"未知品牌"]})}),(0,r.jsxs)("div",{className:"flex items-center gap-1 bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-bold border border-green-200 shadow-sm",title:"Zageh的评分",children:["\uD83D\uDC38 ",e.admin_rating]})]}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 leading-tight mb-3 truncate pr-8",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg border border-gray-100 italic relative mb-3",children:[(0,r.jsx)("span",{className:"text-gray-300 absolute top-[-5px] left-1 text-2xl font-serif",children:"“"}),e.description]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col border-l border-gray-100 w-12 items-center py-4 gap-4 bg-gray-50 text-gray-400 text-xs",children:[(0,r.jsxs)("button",{title:"评论 (施工中)",className:"hover:text-blue-500",children:[(0,r.jsx)("i",{className:"lucide-message-square"}),"\uD83D\uDCAC"]}),(0,r.jsx)("button",{title:"收藏",className:"hover:text-yellow-500",children:"⭐"}),(0,r.jsx)("button",{title:"分享",className:"hover:text-green-500",children:"\uD83D\uDD17"})]})]},e.id)),(!m||0===m.length)&&(0,r.jsxs)("div",{className:"text-center p-10 bg-white rounded border border-gray-200",children:[(0,r.jsxs)("p",{className:"text-gray-500",children:["没找到名叫 “",s,"” 的薯片..."]}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"（试试去许愿池让Zageh买一包？）"})]})]})]})]})}(0,s(7421).eI)("https://biqntzsdzfndxtvhgpux.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJpcW50enNkemZuZHh0dmhncHV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NjM0MDUsImV4cCI6MjA4MDEzOTQwNX0.PxdwU6JJZFpABsoDqzrKxEJbct0zjxGFJoLFjfCnDlI")}},function(e){e.O(0,[432,971,117,744],function(){return e(e.s=7805)}),_N_E=e.O()}]);