{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/frogChipsRanking/src/utils/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseKey);"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,uMAAY,EAAC,aAAa"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///C:/frogChipsRanking/src/app/components/VoteControl.js"],"sourcesContent":["'use client' // 这句告诉Next.js这是一个会动的组件\r\nimport { useState } from 'react';\r\nimport { supabase } from '../../utils/supabase'; // 这里的路径可能需要根据你实际位置微调，如果是 ../utils/supabase \r\n\r\nexport default function VoteControl({ chipId, initialUserScore, voteCount }) {\r\n  const [votes, setVotes] = useState(initialUserScore || 0); // 这里我们简单用votes代替评分逻辑，你可以改成1-5星\r\n  const [count, setCount] = useState(voteCount || 0);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // 模拟打分：实际上我们应该往 ratings 表里插数据\r\n  // 这里简化演示：点击只是加个赞\r\n  const handleVote = async (score) => {\r\n    if (loading) return;\r\n    setLoading(true);\r\n    \r\n    // 这里简单地发给 Supabase 说：我想给这包薯片投票\r\n    // 注意：真实逻辑需要你需要写对应的API或者前端插入逻辑\r\n    alert(`你给薯片(ID:${chipId}) 打了 ${score} 分！（假装入库成功）`);\r\n\r\n    setVotes(score); // 更新UI\r\n    setCount(count + 1);\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-16 bg-gray-50 p-2 flex flex-col items-center justify-center border-r border-gray-100 shrink-0 gap-1\">\r\n      {/* 向上箭头 */}\r\n      <button \r\n        onClick={() => handleVote(votes + 1)}\r\n        className=\"text-gray-400 hover:text-orange-500 hover:bg-gray-200 p-1 rounded transition-colors\"\r\n      >\r\n        ▲\r\n      </button>\r\n      \r\n      <span className=\"font-bold text-lg text-gray-800\">{count}</span>\r\n      \r\n      {/* 向下箭头 */}\r\n      <button \r\n        className=\"text-gray-400 hover:text-blue-500 hover:bg-gray-200 p-1 rounded transition-colors\"\r\n      >\r\n        ▼\r\n      </button>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA,kNAAiD,4CAA4C;AAF7F,cAAa,uBAAuB;;;;AAIrB,SAAS,YAAY,EAAE,MAAM,EAAE,gBAAgB,EAAE,SAAS,EAAE;IACzE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,oBAAoB,IAAI,+BAA+B;IAC1F,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,aAAa;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,8BAA8B;IAC9B,iBAAiB;IACjB,MAAM,aAAa,OAAO;QACxB,IAAI,SAAS;QACb,WAAW;QAEX,+BAA+B;QAC/B,8BAA8B;QAC9B,MAAM,CAAC,QAAQ,EAAE,OAAO,KAAK,EAAE,MAAM,WAAW,CAAC;QAEjD,SAAS,QAAQ,OAAO;QACxB,SAAS,QAAQ;QACjB,WAAW;IACb;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,SAAS,IAAM,WAAW,QAAQ;gBAClC,WAAU;0BACX;;;;;;0BAID,8OAAC;gBAAK,WAAU;0BAAmC;;;;;;0BAGnD,8OAAC;gBACC,WAAU;0BACX;;;;;;;;;;;;AAKP"}}]
}